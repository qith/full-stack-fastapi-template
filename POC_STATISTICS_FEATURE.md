# PoC点数量统计功能

## 功能概述

项目管理系统现在在统计页面中增加了PoC点的数量显示，提供更完整的项目类型统计信息。

## 功能特性

### 1. 统计卡片显示
- 在项目概览页面的统计卡片区域新增了"PoC点"卡片
- 使用橙色背景 (`warning.light`) 来区分PoC点
- 实时显示当前系统中PoC项目的数量

### 2. 图表统计
- 在项目统计页面的"按项目类型统计"图表中包含PoC点数据
- 使用柱状图清晰展示各项目类型的数量对比
- 支持交互式查看和筛选

### 3. 响应式布局
- 统计卡片采用响应式网格布局
- 大屏幕显示4列：总项目数、合同总金额、交付项目、PoC点、机会点
- 小屏幕自动调整为2列布局

## 技术实现

### 前端实现
```typescript
// 项目概览页面 - 统计卡片
<Grid item xs={12} sm={6} md={3}>
  <Paper
    sx={{
      p: 2,
      display: 'flex',
      flexDirection: 'column',
      height: 140,
      bgcolor: 'warning.light',
      color: 'white',
    }}
  >
    <Typography component="h2" variant="h6" color="inherit" gutterBottom>
      PoC点
    </Typography>
    <Typography component="p" variant="h3">
      {statistics?.by_type.find(t => t.project_type === 'PoC')?.count || 0}
    </Typography>
  </Paper>
</Grid>
```

### 后端支持
- 后端统计接口 (`/api/v1/projects/statistics`) 已经包含按项目类型的统计
- 自动统计所有项目类型，包括PoC点
- 返回结构化的统计数据供前端使用

### 数据流程
1. 后端查询数据库，按 `project_type` 分组统计
2. 返回包含PoC点数量的统计数据
3. 前端接收数据并在统计卡片中显示
4. 图表组件自动渲染PoC点数据

## 统计卡片布局

### 大屏幕 (md及以上)
```
┌─────────────┬─────────────┬─────────────┬─────────────┐
│  总项目数   │ 合同总金额  │  交付项目   │   PoC点     │
│   (蓝色)    │   (紫色)    │   (绿色)    │   (橙色)    │
└─────────────┴─────────────┴─────────────┴─────────────┘
┌─────────────┐
│   机会点    │
│   (青色)    │
└─────────────┘
```

### 小屏幕 (sm及以下)
```
┌─────────────┬─────────────┐
│  总项目数   │ 合同总金额  │
└─────────────┴─────────────┘
┌─────────────┬─────────────┐
│  交付项目   │   PoC点     │
└─────────────┴─────────────┘
┌─────────────┐
│   机会点    │
└─────────────┘
```

## 使用方式

### 查看PoC点统计
1. 访问项目管理页面：`http://localhost:5174/project-management`
2. 在页面顶部的统计卡片区域查看PoC点数量
3. 点击"统计分析"标签页查看详细的图表统计

### 数据更新
- PoC点数量会根据项目数据实时更新
- 创建新的PoC项目后，统计数字会自动增加
- 删除PoC项目后，统计数字会自动减少

## 测试数据

系统包含以下测试项目类型分布：
- **交付项目**: 2个
- **PoC点**: 3个  
- **机会点**: 1个

总计6个项目，合同总金额¥1,800,000。

## 扩展说明

### 添加新的项目类型
如果需要添加新的项目类型统计：

1. 在 `projectConstants.ts` 中添加新的项目类型
2. 在项目概览页面添加对应的统计卡片
3. 后端会自动统计新项目类型，无需修改

### 自定义颜色主题
可以通过修改Material-UI主题来调整统计卡片的颜色：

```typescript
// 在 theme.ts 中自定义颜色
const theme = createTheme({
  palette: {
    warning: {
      light: '#your-custom-color',
    },
  },
})
```

## 注意事项

- PoC点统计基于项目的 `project_type` 字段
- 统计数字实时更新，无需手动刷新
- 图表支持交互式操作，可以点击查看详细信息
- 响应式设计确保在不同设备上都有良好的显示效果
